#from bs4 import BeautifulSoup
from bs4 import *
import urllib2
from bs4 import NavigableString
import collections
import opl_db
import json
from collections import OrderedDict
from time import strftime
import webapp2

def store_leagues():
	f2012 = opl_db.League(name="Fall 2012")
	f2012.put()

	opl_db.AgeGroup(name="BU11 Timbers NPL Premier Division",gender="B",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896535.html", league=f2012).put()
	opl_db.AgeGroup(name="BU11 First Division",gender="B",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896543.html", league=f2012).put()
	opl_db.AgeGroup(name="BU11 Second Division",gender="B",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896548.html", league=f2012).put()
	opl_db.AgeGroup(name="BU11 Third Division",gender="B",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/51445521.html", league=f2012).put()
	
	opl_db.AgeGroup(name="BU12 Timbers NPL Premier Division",gender="B",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896544.html", league=f2012).put()
	opl_db.AgeGroup(name="BU12 First Division",gender="B",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896541.html", league=f2012).put()
	opl_db.AgeGroup(name="BU12 Second Division",gender="B",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896547.html", league=f2012).put()
	opl_db.AgeGroup(name="BU12 Third Division",gender="B",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896558.html", league=f2012).put()
	opl_db.AgeGroup(name="BU12 Fourth Division",gender="B",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/51445522.html", league=f2012).put()
	
	opl_db.AgeGroup(name="BU13 Timbers NPL Premier Division",gender="B",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896536.html", league=f2012).put()
	opl_db.AgeGroup(name="BU13 First Division",gender="B",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896552.html", league=f2012).put()
	opl_db.AgeGroup(name="BU13 Second Division",gender="B",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896546.html", league=f2012).put()
	opl_db.AgeGroup(name="BU13 Third Division",gender="B",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/51445523.html", league=f2012).put()

	opl_db.AgeGroup(name="BU14 Timbers NPL Premier Division",gender="B",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896537.html", league=f2012).put()
	opl_db.AgeGroup(name="BU14 First Division",gender="B",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896550.html", league=f2012).put()
	opl_db.AgeGroup(name="BU14 Second Division",gender="B",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896554.html", league=f2012).put()
	opl_db.AgeGroup(name="BU14 Third Division",gender="B",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896534.html", league=f2012).put()

	opl_db.AgeGroup(name="GU11 Timbers NPL Premier Division",gender="G",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896534.html", league=f2012).put()
	opl_db.AgeGroup(name="GU11 First Division",gender="G",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896542.html", league=f2012).put()
	opl_db.AgeGroup(name="GU11 Second Division",gender="G",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896545.html", league=f2012).put()
	opl_db.AgeGroup(name="GU11 Third Division",gender="G",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/51449135.html", league=f2012).put()
	opl_db.AgeGroup(name="GU11 Fourth Division",gender="G",age="U11",url="http://www.oregonpremierleague.com/schedules/Fall2012/5144136.html", league=f2012).put()

	opl_db.AgeGroup(name="GU12 Timbers NPL Premier Division",gender="G",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896538.html", league=f2012).put()
	opl_db.AgeGroup(name="GU12 First Division",gender="G",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896553.html", league=f2012).put()
	opl_db.AgeGroup(name="GU12 Second Division",gender="G",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896555.html", league=f2012).put()
	opl_db.AgeGroup(name="GU12 Third Division",gender="G",age="U12",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896560.html", league=f2012).put()

	opl_db.AgeGroup(name="GU13 Timbers NPL Premier Division",gender="G",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896539.html", league=f2012).put()
	opl_db.AgeGroup(name="GU13 First Division",gender="G",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896551.html", league=f2012).put()
	opl_db.AgeGroup(name="GU13 Second Division",gender="G",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896556.html", league=f2012).put()
	opl_db.AgeGroup(name="GU13 Third Division",gender="G",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896561.html", league=f2012).put()
	opl_db.AgeGroup(name="GU13 Fourth Division",gender="G",age="U13",url="http://www.oregonpremierleague.com/schedules/Fall2012/51449141.html", league=f2012).put()

	opl_db.AgeGroup(name="GU14 Timbers NPL Premier Division",gender="G",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896540.html", league=f2012).put()
	opl_db.AgeGroup(name="GU14 First Division",gender="G",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896549.html", league=f2012).put()
	opl_db.AgeGroup(name="GU14 Second Division",gender="G",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896557.html", league=f2012).put()
	opl_db.AgeGroup(name="GU14 Third Division",gender="G",age="U14",url="http://www.oregonpremierleague.com/schedules/Fall2012/47896562.html", league=f2012).put()

class LeagueHandler(webapp2.RequestHandler):
	def get(self): 
		self.response.headers['Content-Type'] = 'text/html'
		self.response.write(store_leagues())
